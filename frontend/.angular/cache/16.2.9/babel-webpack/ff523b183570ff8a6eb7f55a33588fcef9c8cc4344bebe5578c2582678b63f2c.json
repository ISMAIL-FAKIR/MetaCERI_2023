{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let HomeComponent = class HomeComponent {\n  constructor(notificationService, router, postsService) {\n    this.notificationService = notificationService;\n    this.router = router;\n    this.postsService = postsService;\n    this.successMessage = null;\n    this.posts = [];\n    this.currentPage = 1;\n    this.totalPages = 1;\n  }\n  loadPosts(page) {\n    // Appeler le service pour récupérer les messages de la page spécifiée\n    this.postsService.getPosts(page).subscribe(data => {\n      this.posts = data.posts;\n      this.currentPage = page;\n      // Vous devez probablement également recevoir le nombre total de pages de votre service\n      // et le mettre à jour ici. Assurez-vous que votre service renvoie cette information.\n      this.totalPages = data.totalPages;\n    }, error => {\n      console.error('Error loading posts', error);\n      // Gérez les erreurs si nécessaire\n    });\n  }\n\n  logout() {\n    this.notificationService.showLogoutMessage('Logout successful');\n    // You can clear local storage or perform other necessary tasks\n    localStorage.removeItem('lastLoginTime');\n    this.router.navigate(['/login']);\n  }\n  // Ajoutez ces méthodes pour éviter les erreurs\n  likePost(post) {\n    // Logique de gestion des likes\n  }\n  toggleComments(post) {\n    // Logique pour afficher/masquer les commentaires\n    post.showComments = !post.showComments;\n  }\n  sharePost(post) {\n    // Logique de partage du post\n  }\n  addComment(post) {\n    // Logique d'ajout de commentaire\n  }\n  ngOnInit() {\n    this.notificationService.getPosts().subscribe(data => {\n      this.posts = data.posts;\n      this.currentPage = 1;\n      this.totalPages = 10;\n    });\n    //If connexion réussie (l'affichage du bandeau sera en /home)\n    this.notificationService.successMessage$.subscribe(statusMsg => {\n      this.successMessage = statusMsg;\n      //la dernière connexion dans le service de notification\n      this.notificationService.setLastLoginTime();\n    });\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}